--SitteBilletter
SELECT Ordre.ordrenummer, Ordre.ordredato, Ordre.ordretid, Billett.ruteID, Billett.start, Start.avreise, Billett.ende, Ende.ankomst, Billett.dato AS avreisedato, VognOppsett.vognnummer, SitteBillett.setenummer FROM Ordre JOIN Billett USING(ordrenummer) JOIN SitteBillett USING(billettID) JOIN Sete USING(vognID, setenummer) JOIN Vogn USING(vognID) JOIN VognOppsett USING(vognID, ruteID) JOIN Togrute USING(ruteID) JOIN Rutetabell as Start ON Start.ruteID=Billett.ruteID AND Start.stasjonNavn=Billett.start JOIN Rutetabell as Ende ON Ende.ruteID=Billett.ruteID AND Ende.stasjonNavn=Billett.ende WHERE DATE(Billett.dato)>DATE("2023-04-03") AND Ordre.kundenummer=1 ORDER BY Billett.dato, Ordre.ordrenummer, Billett.ruteID;


--SoveBilletter
SELECT Ordre.ordrenummer, Ordre.ordredato, Ordre.ordretid, Billett.ruteID, Billett.start, Start.avreise, Billett.ende, Ende.ankomst, Billett.dato AS avreisedato, VognOppsett.vognnummer, SoveBillett.kupeenummer FROM Ordre JOIN Billett USING(ordrenummer) JOIN SoveBillett USING(billettID) JOIN Kupee USING(vognID, kupeenummer) JOIN Vogn USING(vognID) JOIN VognOppsett USING(vognID, ruteID) JOIN Togrute USING(ruteID) JOIN Rutetabell as Start ON Start.ruteID=Billett.ruteID AND Start.stasjonNavn=Billett.start JOIN Rutetabell as Ende ON Ende.ruteID=Billett.ruteID AND Ende.stasjonNavn=Billett.ende WHERE DATE(Billett.dato)>DATE("2023-04-03") AND Ordre.kundenummer=1 ORDER BY Billett.dato, Ordre.ordrenummer, Billett.ruteID;
